<html>

<head>

<title>Through a Smartphone Darkly</title>

<script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
<script src="jquery.js"></script>

<style type="text/css">
body {
    color: white;
    background-color: black;
}

.target {
    color: red;
}

.agent {
    color: green;
}

.sceptre {
    color: orange;
}

</style>

</head>

<body>

<div id="content" style="display: none;">

    <section id="instructions">

        <p>Type enter or click to continue.</p>

        <a href="#start" data-type="goto"></a>
    </section>

    <section id="start">
        <p>
        The red light is flashing.
        </p>

        <p>
        SCEPTRE is speaking.
        </p>

        <p>
        The target's voice crackles through my headphones.
        </p>

        <p class="target">
        "Siri?... Siri?...Are you there?"
        </p>

        <p>
        But SCEPTRE's terminal is blank. What's happening? Wake up. Wake UP!
        </p>

        <a href="#start-1" data-type="goto"></a>

    </section>

    <section id="start-1">
        <p>
        SCEPTRE must be dropping transmissions.
        </p>

        <p>
        SCEPTRE, the CIA's brand-new automated interceptor.
        </p>

        <p>
        SCEPTRE, the CIA's brand-new automated BUGGY interceptor.
        </p>

        <p>
        Damn it, lab. This mission is too important for testing your toys.
        </p>

        <p>
        But that's why I'm here.
        </p>

        <a href="#start-2" data-type="goto"></a>

    </section>

    <section id="start-2">

        <p>
        I glance at the mission clock. 8.3 seconds have gone by without a response.
        </p>

        <p>
        The target is waiting, I've got to scramble.
        </p>

        <p>
        I start to type, gotta make this believable...
        </p>

        <a href="#0" data-type="goto"></a>

    </section>

    <section id="0">

        <p class="agent">
        "I'm sorry, I didn't understand. Can you repeat that please?"
        </p>

        <p>
        My best SIRI-ese. This is the easy part. It comes without thinking. Months of training.
        </p>

        <p>
        I hit send. The green RX light blinks on my terminal.
        </p>

        <p>
        C'mon green light, Come ON.
        </p>

        <p>
        I can't let this mission fail. Too much is riding on it.
        </p>

        <p>
        Too much has gone unpunished.
        </p>

        <a href="#1" data-type="goto"></a>
    </section>

    <section id="1">
        <p>
        Finally the green light stops blinking.
        </p>

        <p>
        But I can't relax yet.
        </p>

        <p>
        The red light is flashing back.
        </p>

        <p>
        The target is responding.
        </p>

        <a href="#2" data-type="goto"></a>
    </section>

    <section id="2">
        <p class="target">
        "Siri, what's the nearest cafe?"
        </p>

        <p>
        Ok. The target still thinks I'm Siri. But we're not in the clear yet.
        </p>

        <p>
        We've got to get an answer back. Before the target suspects he's being tapped.
        </p>

        <p>Where is SCEPTRE?</p>

        <p>Damn computer.</p>


        <a href="#3" data-type="goto"></a>
    </section>

    <section id="3">
        <p>
        My hands hover over the keyboard.
        </p>

        <p>
        I watch SCEPTRE's display terminal, and hold my breath.
        </p>

        <p>
        It's processing now. I see the indicator spinning.
        </p>

        <p>
        But it still isn't sending anything.
        </p>

        <p>
        3.7 seconds on the clock. Do I type back? Or wait for SCEPTRE to respond?
        </p>

        <p>
        I have to decide now. Before the target begins to suspect.
        </p>

        <div>
            <a href="#4-respond" data-type="goto">Type Back</a> | <a href="#4-wait" data-type="goto">Wait for SCEPTRE</a>
        </div>
    </section>

    <section id="4-respond">

        <p>
        4.2 seconds. I can't wait any longer.
        </p>

        <p>
        I start typing...
        </p>

        <p class="agent">
        "I was able to locate a cafe near you. Would you like to see it on a map?"
        </p>

        <p>
        I scan the mission map on my screen. The target is a bright green dot.
        </p>

        <p>This is the hard part.</p>
        
        <P>
        I look for a cafe. Anything. The target is in the middle of Cambridge, near Central Square.
        </p>

        <p>
        Damn, what cafes are near there?
        </p>

        <p>
        The Starbucks on Mass Ave. I key it in and hit 'send'. 
        </p>

        <p>
        The green light blinks. 5.8 seconds, way too long.
        </p>

        <a href="#5" data-type="goto"></a> 

    </section>

    <section id="4-wait">
        <p>
        4.2 seconds. Finally, I see the green light blink on SCEPTRE's display.
        </p>

        <p class="sceptre">
        "I have found two cafes near you. Would you like to see them on a map?", Siri says.
        </p>
        
        <p>The real Siri, piped through the SCEPTRE. The way it's supposed to work.
        </p>

        <p>
        Damn it, Lab. If we can hold this mission together, you owe me a case of Valium.
        </p>

        <p>
        My screen shows the map as the suspect sees it. He zoomms in on a nearby Starbucks.
        </p>

        <a href="#5" data-type="goto"></a>
    </section>

    <section id="5">

        <p>
        I wait.
        </p>

        <p>
        The red light is silent.
        </p>
        
        <p>No more transmissions for now. The target's GPS position shows him moving towards the Starbucks.</p>

        <p>It worked. It worked.</p>

        <a href="#6" data-type="goto"></a>
    </section>

    <section id="6">
        <p>
        I fall back into my chair and heave a sigh.
        </p>
        
        <p>That was close.</p>

        <p>The entire mission almost lost.</p>
        
        <p>Months of planning, millions of dollars, agents sacrified...</p>
        
        <p>
        David...
        </p>

        <p>-NO- I can't think about that right now. The anger will distract me.</p>

        <p>
        It's going to be a long mission.
        </p>

        <a href="#7" data-type="goto"></a>

    </section>

    <section id="7">
        <p>A chat window shows up on my terminal.</p>

        <p>It's from Fiona.</p>

        <p>I'm still puzzled by why she's heading this mission.</p>

        <p>But David always respected her.</p>

        <p>Or feared her.</p>

        <p>That means something.</p>

        <a href="#8" data-type="goto">Read the Chat</a>
        
    </section>

    <section id="8">
        <p>
        (To be continued...)
        </p>
    </section>
</div>

<script>

(function($) {

  var $oldLine;
  var $oldSection;
  var $currentLine;
  var $currentSection;

  $(document).on('ready', function() {
    $('section').children().hide();

    var showSection = function(sectionSelector) {
      $oldSection = $currentSection;
      $currentSection = $(sectionSelector);

      if ($currentSection != $oldSection) {
        if ($oldSection && $oldSection.length) {
          $oldSection.hide();
        }
        $currentSection.show();
      }

      $currentLine = $currentSection.children().eq(0);
      $currentLine.fadeIn();
    };


    var advance = function() {

      var $nextLine = $currentLine.next();
      if ($nextLine.length) {
        $oldLine = $currentLine;
        $currentLine = $nextLine;

        if ($nextLine.data('type') == 'goto') {
          showSection($nextLine.attr('href'));
        }

        $currentLine.fadeIn();
      }
    }

    $('body').on('keyup', function(e){
      // Enter key.
      if (e.keyCode == 13) {
        advance();
      }
    });

    $('body').on('click', function(e){
        advance();
    });

    $('[data-type="goto"]').on('click', function(e) {
      e.preventDefault();
      showSection($(this).attr('href'));
    });

    $('#content').show();

    showSection('#instructions');
  });

})($);
</script>

</body>
</html>
